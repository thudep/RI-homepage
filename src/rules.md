# 辐射成像大赛比赛规则

本比赛的核心目的是对提供的数据集进行腹部器官医学图像分割，根据分割准确度进行评分。

## 任务要求

~~参赛者需提交包含四维数组的预测结果文件，其~~维度必须严格符合 `[img_size1, img_size2, img_size3, 15]` 格式规范。

其中前三个维度表示图像的空间分辨率（需与输入图像尺寸完全一致），第四个维度对应`15`个不同的器官分割通道。特别需要注意的是，通道索引与器官标签的映射关系为：通道`0`对应标签`1`（即第一个器官），通道`1`对应标签`2`（依此类推），直至通道`14`对应标签`15`（第十五个器官）。每个通道必须为严格的二值化分割结果，即仅允许包含`0`和`1`两种数值——数值`1`表示该像素被判定为对应器官区域，`0`则表示非该器官区域。系统将严格检测数值合法性，禁止出现浮点数、归一化概率值或其他非整数值。

~~文件须以`NumPy`的二进制格式（`.npy`）保存，命名格式需遵循 `团队ID_序号.npy` 的规范（例如：`TeamA_0001.npy`），未按格式命名的文件将被视为无效提交。~~

## 评分标准

评分采用Dice相似系数（Dice Similarity Coefficient, DSC）作为核心评价指标。对于每个器官独立计算其Dice分数，具体计算公式为：

$$
\text{Dice}_k = \frac{2 \times \sum_{i=1}^H \sum_{j=1}^W \mathbb{I}\left( y_{\text{pred}}^{(k)} (i,j) = 1 \cap y_{\text{true}}^{(k)} (i,j) = 1 \right)}{\sum_{i=1}^H \sum_{j=1}^W \mathbb{I}\left( {y_{\text{pred}}^{(k)} (i,j)} = 1 \right) + \sum_{i=1}^H \sum_{j=1}^W \mathbb{I}\left( {y_{\text{true}}^{(k)} (i,j)} = 1 \right) + \varepsilon}
$$

式中：

- $k \in \{1, 2, ..., 15\}$ 表示器官编号
- $H \times W$ 为图像分辨率（即`img_size`）
- $\mathbb{I}(\cdot)$ 为指示函数，条件满足时取 $1$ ，否则为 $0$ 
- $\varepsilon = 10^{-7}$ 为平滑项，用于避免分母为零的情况

背景区域（标签`0`）不参与任何器官的Dice计算。最终得分为15个器官Dice分数的宏平均（算术平均），计算结果保留四位小数（如0.8573）。针对特殊情形设定补充规则：当某器官在真实标注中不存在（即真实掩膜全为`0`）且预测结果也全为`0`时，该器官Dice分数记为`1`；若真实标注存在但预测结果全为`0`，则按正常公式计算（此时分子为`0`，分母非零）。评分系统将对所有测试样本独立计算后取平均，确保评估结果的客观性。